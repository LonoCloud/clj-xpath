h1. clj-xpath

h2. Description

Simplified XPath Library for Clojure.

h2. Usage

<pre><code>
(ns example
  (use [com.github.kyleburton.clj-xpath :only [$x $x:tag $x:text $x:attrs $x:attrs* $x:node]]))


(def *some-xml*
     "<?xml version=\"1.0\" encoding=\"UTF-8\"?>
<books>
  <book title=\"Some Guide To XML\">
    <author>
      <name>P.T. Xarnum</name>
      <email>pt@x.m.l</email>
    </author>
    <description>
      Simply the most comprehensive XML Book on the marktet today.
    </description>
  </book>
  <book title=\"Some Guide To Functional Programming\">
    <author>
      <name>S. Hawking</name>
      <email>universe@cambridge.ed.u</email>
    </author>
    <description>
      This book is too smart for you, try 'Head first Quantum Mechanics for Dummies' instead.
    </description>
  </book>
</books>")


;; get the top level tag:
(prn ($x:tag "/*" *some-xml*))
;; :books

;; find all :book nodes, pull the title from the attributes:
(prn (map #(-> % :attrs :title) ($x "//book" *some-xml*)))
;; ("Some Guide To XML" "Some Guide To Functional Programming")

;; same result using the $x:attrs* function:
(prn ($x:attrs* "//book" *some-xml* :title))
;; ("Some Guide To XML" "Some Guide To Functional Programming")

;; first select the :book element who's title has 'XML' in it
;; from that node, get and print the author's name (text content):
(prn ($x:text "./author/name"
              ($x:node "//book[contains(@title,'XML')]" *some-xml*)))
;; "P.T. Xarnum"
</code></pre>

h2. Building

clj-xpath is built with maven at this time.  It requires both clojure (1.0) and
clojure-contrib (1.0) to be installed in an accessible maven repository.  The
software includes a script to install them into your local (<code>~/.m2</code>) repository
for you

<pre><code>
  kyle@indigo64 ~/personal/projects/clj-xpath[master]$ bash bin/maven-bootstrap.sh
  kyle@indigo64 ~/personal/projects/clj-xpath[master]$ mvn install
</code></pre>

After running <code>mvn install</code>, <code>clj-xpath-1.0.jar</code> will be
available for you to utilize in the target directory.  To build a stand-alone
jar file for clj-xpath which will contain its own code as well as clojure
and clojure-contrib, run the assembly plugin:

<pre><code>
  kyle@indigo64 ~/personal/projects/clj-xpath[master]$ mvn assembly:assembly
</code></pre>

This will create the <code>clj-xpath-1.0-jar-with-dependencies.jar</code> jar
in the target directory.

h3. Maven Coordinates For clj-xpath

<pre><code>
    <dependency>
      <groupId>com.github.kyleburton</groupId>
      <artifactId>clj-xpath</artifactId>
      <version>1.0.0</version>
    </dependency>
</code></pre>


h2. Authors

* Kyle Burton <kyle.burton@gmail.com>
* Trotter Cashion <cashion@gmail.com>

